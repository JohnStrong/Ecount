<div class="container">
	<div class="county-contain">
		<div class="county-inner">
			<div ng-controller="ElectionStatController" ng-init="constituencies()">
				<h3 class="page-header text-primary">Tally View</h3>
		    	<div class="row">
					<div class="col-md-12">
						<!--live tally feed (do animatation here to show it is live)-->
						<div ng-if="latestTally !== null" class="feed">
							<div id="live-feed" class="list-group">
								<div class="list-group-item">
									<div class="feed-nav navbar-text navbar-right">
										<div ng-if="latestTally.isLive">
											<div class="status">live!</div>
										</div>
									</div>
									<div class="feed-main">
										<div class="feed-header">
											<h3 class="page-header">
												{{latestTally.title}} 
												<small>{{latestTally.date}}</small>
											</h3>
										</div>
										<div class="feed-body">
											... todo
										</div>
									</div>
								</div>
								<div class="list-group-item">
									<div id="imap">
										<div ng-switch on="renderPath[2]" ng-controller="IMapController">
											<div ng-switch-when="districts" ng-controller="DistrictsController">
												<div id="county-map-view">
													<div id="imap-view" style="height: 580px"></div>
												</div>
											</div>
											<div ng-switch-when="ded" ng-controller="DEDController">
												<div id="ded-map-view">
													<div id="imap-view" style="height: 580px"></div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<div class="tally-results-body">
							<div class="page-header">
								<div class="form-inline" role="form">
									<div class="form-group">
										<h3 class="text-primary">Previous Tally Results</h3>
										<election-directive></election-directive>
									</div>
								</div>
							</div>
							<div ng-switch on="election !== null">
								<div ng-switch-when="true">
									<div class="col-md-12">
							    		<!-- vis controller -->
							    		<div id="candidate" class="candidate-stats">
							    			<div ng-switch on="constituencyTallyResults.length > 0">
							    				<div ng-switch-when="true">
										    		<div class="candidate-group">
										    			<!-- both views display with the same style right now-->
										    			<div ng-switch on="renderPath[2]">
										    				<div ng-switch-when="districts">
														    	<stat-tab>
														    		<stat-pane ng-repeat="c in constituencyTallyResults" title="{{c.title}}">
														    			<div id="{{c.title}}" width="900" height="400" vis-directive></div>
														    		</stat-pane>
														    	</stat-tab>
														    </div>
														    <div ng-switch-when="ded">
														    	<stat-tab>
														    		<stat-pane ng-repeat="c in constituencyTallyResults" title="{{c.title}}">
														    			<div id="{{c.title}}" width="900" height="400" vis-directive></div>
														    		</stat-pane>
														    	</stat-tab>
														    </div>
														</div>
												    </div>
												</div>
												<div ng-switch-when="false">
													<div class="alert alert-warning">
														No tally results available...
													</div>
												</div>
											</div>
										</div>
							    	</div>
								</div>
								<div ng-switch-when="false">
									<div class="alert alert-info">Choose an election to view its tally results...</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>